# Statistics

# GP3 — Statistics: A/B-тест + проверка гипотез 

Этот репозиторий содержит ноутбук **`GP_3_Statistics_4-4.ipynb`** с учебным проектом по статистике и анализу данных.
Внутри — два независимых блока:

1) **Часть 1:** анализ A/B-эксперимента (old_page vs new_page) и проверка различий конверсии.  
2) **Часть 2:** анализ датасета e-commerce сессий (**Online Shoppers Intention**) и проверка продуктовых гипотез о покупке (`Revenue`).

---

##  Что внутри ноутбука

### Часть 1 — A/B-test (landing page)
Датасет: `data_ab.csv`

Основные шаги:
- загрузка и приведение `timestamp` к типу даты;
- исправление несоответствий **group ↔ landing_page** (control/old_page и treatment/new_page);
- очистка дубликатов и приведение к независимым наблюдениям:
  - удаление полных дубликатов;
  - удаление повторов одного `user_id` (оставляется первое наблюдение по времени);
- расчёт метрики:
  - конверсия (на базе `converted`), в т.ч. в разрезе дней;
- визуализации (barplot/heatmap) для сравнения динамики;
- статистическая проверка:
  - тест нормальности (Shapiro–Wilk),
  - тест равенства дисперсий (Levene),
  - `t-test` для сравнения групп (и дополнительно bootstrap-оценка разницы средних + доверительный интервал).

---

### Часть 2 — Online Shoppers Intention (гипотезы про покупки)
Датасет: `online_shoppers_intention.csv`  
Целевая переменная: `Revenue` (совершил покупку / нет)

Что делается:
- первичный обзор данных, проверка дубликатов, преобразование `Month` в категориальный тип;
- логические проверки пар “кол-во страниц ↔ время на них” (например, `ProductRelated` и `ProductRelated_Duration`);
- работа с “хвостатыми” признаками (показан подход IQR/перцентили для отсечения экстремальных значений);
- **Feature engineering** для гипотез:
  - агрегаты (например, суммарные страницы/время),
  - доли/отношения типов страниц,
  - группы поведения (например, по доле административных+информационных страниц относительно товарных).

---

##  Проверяемые гипотезы (из ноутбука)
- **H1:** конверсия в выходные отличается от будней (пропорции → z-test).
- **H2:** время на товарных страницах (`ProductRelated_Duration`) отличается у купивших и не купивших (Mann–Whitney U).
- **H3:** “умеренная навигация” по инфо/админ страницам относительно товарных связана с конверсией (сегментация + сравнение конверсий по группам).
- **H4:** поведение купивших (через `PageValues`) и “эффект ноября” (сравнение Nov vs другие месяцы, в т.ч. отдельно для New/Returning; Mann–Whitney + z-test по конверсии).
- **H5:** у **новых пользователей** большее время на товарных страницах связано с большей вероятностью покупки (Mann–Whitney U + выводы/рекомендации).

---

##  Стек
- Python 3.x
- `pandas`, `numpy`
- `matplotlib`, `seaborn`
- `scipy`
- `statsmodels`
- `scikit-learn` (bootstrap/resample)